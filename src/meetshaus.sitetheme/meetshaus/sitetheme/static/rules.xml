<?xml version="1.0" encoding="UTF-8"?>
<rules xmlns="http://namespaces.plone.org/xdv"
       xmlns:css="http://namespaces.plone.org/xdv+css"
       xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <!-- The default theme, used for standard Plone web pages -->
    <theme href="frontpage.html" css:if-content="body.section-front-page" />
    <theme href="contact.html" css:if-content="body.section-kontakt" />
    <theme href="impressum.html" css:if-content="body.section-impressum" />

    <!-- Rules applying to a standard Plone web page -->
    <rules css:if-content="#visual-portal-wrapper">
        <theme href="theme.html" />
        
        <!-- Head: title -->
        <replace theme="/html/head/title" content="/html/head/title" />
        <!-- Base tag -->
        <replace theme="/html/head/base" content="/html/head/base" />
        
        <!-- Add meta tags -->
        <!-- <drop theme="/html/head/meta" /> -->
        <append content="/html/head/meta" theme="/html/head" />
        
        <!-- Copy style, script and link tags in the order they appear in the content -->
        <append
            content="/html/head/style | /html/head/script | /html/head/link"
            theme="/html/head"
            />
        
            <drop theme="/html/head/style" />
            <drop theme="/html/head/script" />
            <drop theme="/html/head/link" />
        
            <append theme="/html/head">
                <link rel="shortcut icon" href="/++resource++meetshaus.sitetheme/images/favicon.ico" type="image/x-icon" />
            </append>
        <!-- Copy over the id/class attributes on the body tag.
             This is important for per-section styling -->
        <prepend content="/html/body/@class" theme="/html/body" />
        <prepend content="/html/body/@id"    theme="/html/body" />
        <prepend content="/html/body/@dir"   theme="/html/body" />

        <!-- Logo (link target) -->
        <prepend content='//*[@id="portal-logo"]/@href' css:theme="#logo" />
        
        <copy css:content="#introduction" css:theme="#about-me"
            css:if-content="body.section-front-page" />
        
        <copy css:content="#content-core > *" css:theme="#contact-me"
            css:if-content="body.section-impressum" />
        
        <!-- Splashboxes (Landing Page) -->
        
        <copy css:content="#box-words" css:theme="#splashbox-words-content"
            css:if-content="body.section-front-page" />
        <copy css:content="#box-adwords" css:theme="#splashbox-adwords-content"
            css:if-content="body.section-front-page" />
        <copy css:content="#box-social" css:theme="#splashbox-social-content"
            css:if-content="body.section-front-page" />
        
        <!-- Login Form -->
        <copy css:content="#content > *" css:theme="#content" 
            css:if-content="body.template-login_form" />
        
        <!-- Document Content -->
        <copy css:content="#content > *" css:theme="#content" 
            css:if-content="body.template-edit" />
        <copy css:content="#content > *" css:theme="#content" 
            css:if-content="body.template-atct_edit" />
        <copy css:content="#content > *" css:theme="#content" 
            css:if-content="body.template-base_edit" />
        <copy css:content="#content > *" css:theme="#content" 
            css:if-content="body.template-folder_contents" />
        
        <before css:content="#edit-bar" css:theme="#main-content" />
        <before css:content=".portalMessage" css:theme="#content" />
        
        <!-- Contact Form -->
        <copy css:content=".formid-kontakt" css:theme="#contact-me"
            css:if-content="body.section-kontakt" />
        
    </rules>

</rules>
